ul.breadcrumbs
  li.breadcrumb
    a(ng-href="#/map") Restsforbeholdsvalg 2015
  li.breadcrumb(ng-repeat="hier in json.table.hierarchy")
    a(ng-href="#/resultater{{hier.path}}") {{hier.name}}
.clearfix
div.table-container
  h1.app-header {{json.table.name}}
  table.overview-table
    tr
      td Senest opdateret:
      td {{json.table.updated_at}}
      td Stemmeberettigede:
      td.number {{json.table.votes_allowed | number}}
    tr
      td Procent optalt:
      td.number {{((json.table.votes_made/json.table.votes_allowed)*100).toFixed(1) | number}}%
      td Stemmeprocent:
      td.number {{json.table.votes_pct | number}}%
    tr
      td(ng-if="json.table.areatype == 'L'") Optalte storkredse:
      td(ng-if="json.table.areatype == 'S'") Optalte kredse:
      td(ng-if="json.table.areatype == 'K'") Optalte valgsteder:
      td.mobile-hide(ng-if="json.table.areatype == 'D'")
      td.mobile-hide(ng-if="json.table.areatype == 'D'")
      td(ng-if="json.table.areatype != 'D'") {{json.table.locations_completed}} af {{json.table.locations_total}}
      td Optalte stemmer:
      td.number {{json.table.votes_made | number}}
  table.party-table.striped
    thead
      tr
       th(ng-click="changeOrder('-name')")
          strong(ng-if="json.table.areatype == 'L'") Storkredse
          strong(ng-if="json.table.areatype == 'S'") Kredse i {{json.table.name}}
          strong(ng-if="json.table.areatype == 'K'") Valgsteder i {{json.table.name}}
          i(ng-class="{'ion-android-arrow-dropup': order=='-name' && reverse==false, 'ion-android-arrow-dropdown': order=='-name' && reverse==true}")
        th.number(ng-click="changeOrder('-votes_made')")
          | Stemmetal&nbsp;
          i(ng-class="{'ion-android-arrow-dropup': order=='-votes_made' && reverse==true, 'ion-android-arrow-dropdown': order=='-votes_made' && reverse==false}")
        th.number(ng-click="changeOrder('-results.JA.votes_pct')")
          | Ja&nbsp;
          i(ng-class="{'ion-android-arrow-dropup': order=='-results.JA.votes_pct' && reverse==true, 'ion-android-arrow-dropdown': order=='-results.JA.votes_pct' && reverse==false}")
        th.number(ng-click="changeOrder('-results.NEJ.votes_pct')")
          | Nej&nbsp;
          i(ng-class="{'ion-android-arrow-dropup': order=='-results.NEJ.votes_pct' && reverse==true, 'ion-android-arrow-dropdown': order=='-results.NEJ.votes_pct' && reverse==false}")

    tbody
      tr
        td(colspan="7" ng-if="json.table.results.length == 0")
          | Afventer opt√¶lling fra&nbsp;
          span(ng-if="json.table.areatype == 'L'") landet.
          span(ng-if="json.table.areatype == 'S'") storkredsen.
          span(ng-if="json.table.areatype == 'K'") kredsen.
          span(ng-if="json.table.areatype == 'D'") valgstedet.
      tr(ng-repeat="constituency in json.table.locations | orderBy:order:reverse")
        td
          a(ng-href="#/resultater{{constituency.path}}") {{constituency.name}}
        td.number {{(constituency.votes_made || (constituency.results.JA.votes + constituency.results.JA.votes)) | number}}
        td.number {{constituency.results.JA.votes_pct | number}}%
        td.number {{constituency.results.NEJ.votes_pct | number}}%
  div

